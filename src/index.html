<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Gataca QR Component</title>
  <script type="module" src="/build/gatacaqr.esm.js"></script>
  <script nomodule src="/build/gatacaqr.js"></script>
</head>

<body>

  <div>


    <gataca-autoqr id="gataca-qr" config-id="23kk7PXZ2t7GLMYQtLHeKQE4bp8Vw3wq">
      <!--//TODO Replace with your config-->
    </gataca-autoqr>

  </div>

  <script>
    //Expected config
    // {
    //     "id": "23kk7PXZ2t7GLMYQtLHeKQE4bp8Vw3wq",
    //       "domain": "https://693c-2a0c-5a81-b605-e400-1c03-e4a2-b29e-1833.ngrok.io",
    //         "useButton": false,
    //           "useWs": true,
    //             "qrRole": "connect",
    //               "autorefresh": true,
    //                 "sessionTimeout": 120,
    //                   "v2": true,
    //                     "socketEndpoint": "ws://gaas.dev.gataca.io/ws/v1/login/gataca"
    //   }

    const qr = document.getElementById('gataca-qr');
    var count = 0;
    var ok = true;

    qr.successCallback = (data) => {
      alert("ALL OK" + data)
    };

  // (async () => {
  //   await customElements.whenDefined('gataca-qr');
  // })();

  </script>

</body>

</html>